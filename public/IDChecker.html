<html>
    <head>
        <title>ID Checker</title>
        <link rel="stylesheet" href="mattStyle.css">
        <script src="jquery-3.7.1.min.js"></script>
        <script src="mattQuery.js"></script>
        <style>
            h4{
                color: white;
            }
            p{
                color: white;
                font-size: 12px;
                margin-left: 14px;
            }
            .splitDiv_Multi{
                display: flex;
            }
            .leftCol{
                max-width: 200px;
                min-width: 200px;
            }
            .rightCol{
                padding-left: 21px;
                max-width: 300px;
            }
            .rightCol div{
                padding-right: 21px;
            }
            .rightCol{
                color: white;
                
            }
            .rightCol button{
                margin-bottom: 7px;
            }
        </style>
    </head>
    <body>
        <div class="masterDiv">
            <div class="topDiv">
                <h2>ID Checker</h2>
            </div>
            <div class="splitDiv_Multi">
                <div class="leftCol">
                    <textarea id="taInput"></textarea>
                </div>    
                <div class="rightCol" id="outPut">
                    <button class="pushable" value="xxxlutz.at">
                        <span class="shadow"></span>
                        <span class="edge"></span>
                        <span class="front">xxxlutz.at</span>
                    </button>
                    <button class="pushable" value="xxxlutz.de">
                        <span class="shadow"></span>
                        <span class="edge"></span>
                        <span class="front">xxxlutz.de</span>
                    </button>
                    <button class="pushable" value="xxxlutz.ch">
                        <span class="shadow"></span>
                        <span class="edge"></span>
                        <span class="front">xxxlutz.ch</span>
                    </button>
                    <button class="pushable" value="xxxlutz.cz">
                        <span class="shadow"></span>
                        <span class="edge"></span>
                        <span class="front">xxxlutz.cz</span>
                    </button>
                    <button class="pushable" value="xxxlutz.sk">
                        <span class="shadow"></span>
                        <span class="edge"></span>
                        <span class="front">xxxlutz.sk</span>
                    </button>
                    <button class="pushable" value="xxxlutz.hu">
                        <span class="shadow"></span>
                        <span class="edge"></span>
                        <span class="front">xxxlutz.hu</span>
                    </button>
                    <button class="pushable" value="xxxlutz.ro">
                        <span class="shadow"></span>
                        <span class="edge"></span>
                        <span class="front">xxxlutz.ro</span>
                    </button>
                    <button class="pushable" value="xxxlutz.se">
                        <span class="shadow"></span>
                        <span class="edge"></span>
                        <span class="front">xxxlutz.se</span>
                    </button>
                </div>
                <div class="rightCol">
                    <button class="pushable" value="moemax.at">
                        <span class="shadow"></span>
                        <span class="edge"></span>
                        <span class="front">moemax.at</span>
                    </button>
                    <button class="pushable" value="moemax.de">
                        <span class="shadow"></span>
                        <span class="edge"></span>
                        <span class="front">moemax.de</span>
                    </button>
                    <button class="pushable" value="moemax.si">
                        <span class="shadow"></span>
                        <span class="edge"></span>
                        <span class="front">moemax.si</span>
                    </button>
                    <button class="pushable" value="moemax.hu">
                        <span class="shadow"></span>
                        <span class="edge"></span>
                        <span class="front">moemax.hu</span>
                    </button>
                    <button class="pushable" value="moemax.bg">
                        <span class="shadow"></span>
                        <span class="edge"></span>
                        <span class="front">moemax.bg</span>
                    </button>
                    <button class="pushable" value="moemax.ro">
                        <span class="shadow"></span>
                        <span class="edge"></span>
                        <span class="front">moemax.ro</span>
                    </button>
                    <button class="pushable" value="moemax.hr">
                        <span class="shadow"></span>
                        <span class="edge"></span>
                        <span class="front">moemax.hr</span>
                    </button>
                    <button class="pushable" value="moemax.ch">
                        <span class="shadow"></span>
                        <span class="edge"></span>
                        <span class="front">moemax.ch</span>
                    </button>
                    <button class="pushable" value="moemax.pl">
                        <span class="shadow"></span>
                        <span class="edge"></span>
                        <span class="front">moemax.pl</span>
                    </button>
                    <button class="pushable" value="moemax.rs">
                        <span class="shadow"></span>
                        <span class="edge"></span>
                        <span class="front">moemax.rs</span>
                    </button>
                </div>
                <div class="rightCol">
                    <button class="pushable" value="moebelix.at">
                        <span class="shadow"></span>
                        <span class="edge"></span>
                        <span class="front">moebelix.at</span>
                    </button>
                    <button class="pushable" value="moebelix.cz">
                        <span class="shadow"></span>
                        <span class="edge"></span>
                        <span class="front">moebelix.cz</span>
                    </button>
                    <button class="pushable" value="moebelix.sk">
                        <span class="shadow"></span>
                        <span class="edge"></span>
                        <span class="front">moebelix.sk</span>
                    </button>
                    <button class="pushable" value="moebelix.hu">
                        <span class="shadow"></span>
                        <span class="edge"></span>
                        <span class="front">moebelix.hu</span>
                    </button>
                </div>
            </div>
            <div><h4>Log:</h4><p id="errorMsg"></p></div>
        </div>
    </body>
    <script>
/* test IDs
21330097/01
21330097/02
21330097/06
21330097/10
21330097/05
21330097/09
*/
        var idList = [], zeros = '00';
        function checkIDs(url){
            $('#errorMsg').html('');
            $('#taInput').val($('#taInput').val().trim().replace(/[^\d\n-]/g, '').replace(/^\s*$(?:\r\n?|\n)/gm, ''));
            idList = $('#taInput').val().trim().split('\n');
            $.each(idList, function(id, val){
                // clean val string from anything other then a number
                var cleanVal = val; // val.replace(/[^0-9 ]/g, '');
                // check if ID is 10 digits or longer and contains anything apart from a number (double-check)
                if(cleanVal.length>=10){
                    // add leading zero(s) depending on ID length
                    cleanVal.length===12?zeros='':cleanVal.length===11?zeros='0':zeros='00';
                    window.open('https://'+url+'/p/'+zeros+cleanVal.trim(), id);
                } else {
                    $('#errorMsg').append('<p>Fehlerhafte ID: '+idList[id]+'</p>');
                }
            })
        }
        $('button').on('click', function(){
            if($('#taInput').val()!='' && $('#taInput').val()!=null){
                checkIDs($(this).val());
            }
        })
        $('#taInput').on('keyup, change', function(){
            $('#taInput').val($('#taInput').val().trim().replace(/[^\d\n-]/g, '').replace(/^\s*$(?:\r\n?|\n)/gm, ''));
        })
    </script>
</html>